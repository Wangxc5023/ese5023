<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Section 11 Linux: Basics</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computing and Programming for Environmental Research</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Syllabus.html">
    <span class="fa fa-bell-o"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="Schedule.html">
    <span class="fa fa-calendar"></span>
     
    Schedule
  </a>
</li>
<li>
  <a href="Resource.html">
    <span class="fa fa-wrench"></span>
     
    Resource
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-laptop"></span>
     
    Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Assignment_01.html">Assignment 01</a>
    </li>
    <li>
      <a href="Assignment_02.html">Assignment 02</a>
    </li>
    <li>
      <a href="Assignment_03.html">Assignment 03</a>
    </li>
    <li>
      <a href="Assignment_04.html">Assignment 04</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Section 11 Linux: Basics</h1>

</div>


<blockquote>
<p>“In real open source, you have the right to control your own destiny.” - Linus Torvalds</p>
</blockquote>
<p><img src="figs/Windows_Vs_Mac_Vs_Linux_13.jpg" alt="drawing" width="600"/></p>
<hr />
<p><em>The notes below are modified from the excellent <a href="http://swcarpentry.github.io/shell-novice/">online tutorial</a> freely available on the Software Carpentry website.</em></p>
<hr />
<div id="prerequisites" class="section level1">
<h1>Prerequisites</h1>
<p>Log in Taiyi, in your home directory, type:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">cp</span> /work/ese-ouycc/data_demo .</span></code></pre></div>
<p>We will explain the meaning of this code shortly.</p>
<hr />
</div>
<div id="background" class="section level1">
<h1>Background</h1>
<div id="gui-vs-cli" class="section level2">
<h2>GUI vs CLI</h2>
<p>The most widely used way to interact with personal computers is the <strong><em>graphical user interface</em></strong> (GUI). With a GUI, we give instructions by clicking a mouse and using menu-driven interactions. GUI makes it intuitive to learn how to use a computer, however, it’s not efficient in handling a large amount of jobs. This is where we take advantage of the <strong><em>Linux</em></strong>. The Linux shell is both a <strong><em>command-line interface</em></strong> (CLI) and a scripting language, allowing repetitive tasks to be done automatically and fast.</p>
</div>
<div id="linux" class="section level2">
<h2>Linux</h2>
<p>Linux is an operating system (OS) built by Linus Torvalds at the University of Helsinki in 1991. The name “Linux” comes from the Linux kernel.</p>
<p>Linux has survived so long because it’s <strong>a powerful tool that allows people to do complex things with just a few keystrokes</strong>. More importantly, it helps them <strong>combine existing programs in new ways and automate repetitive tasks</strong>, so they aren’t typing the same things over and over again. The use of Linux <strong><em>shell</em></strong> is fundamental to using a wide range of other powerful tools and computing resources, including high-performance computing (HPC) supercomputers <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<p>These lessons will start you on a path towards using Linux and Shell on the TaiYi HPC supercomputer.</p>
<hr />
</div>
</div>
<div id="navigating-files-and-directories" class="section level1">
<h1>Navigating Files and Directories</h1>
<div id="home-directory" class="section level2">
<h2>Home directory</h2>
<p>Once log in to Taiyi, you see a header like <code>[ese-xxx@login02 ~]$</code>. Here <code>ese-xxx</code> is your username, <code>login02</code> is the login in node, and the dollar sign <code>$</code> is a <strong>prompt</strong>, which shows us that the shell is waiting for input; your shell may use a different character as a prompt and may add information before the prompt.</p>
<p>Next, let’s find out where we are by running a command called <code>pwd</code> (which stands for “print working directory”). At any moment, our <strong>current working directory</strong> is our current default directory, <em>i.e.</em>, the directory that the computer assumes we want to run commands in unless we explicitly specify something else.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="bu">pwd</span></span></code></pre></div>
<p>In your case, it should be something like <code>/work/ese-xxx</code>, which is your <strong>home directory</strong>.</p>
</div>
<div id="taiyi-file-system" class="section level2">
<h2>Taiyi file system</h2>
<p>To understand what a ‘home directory’ is, let’s have a look at how the file system as a whole is organized. On Taiyi, the filesystem looks like this:</p>
<p><img src="figs/Taiyi_folder.png" alt="drawing" width="800"/></p>
<p>At the top is the <strong>root directory</strong> that holds everything else. We refer to it using a slash character, <code>/</code>, on its own; this is the leading slash in <code>/work/ese-ouycc</code>.</p>
<p>Inside the <code>root</code> directory are several other directories: <code>bin</code> (which is where some built-in programs are stored), <code>data</code> (for miscellaneous data files), <code>work</code> (where users’ personal directories are located), <code>tmp</code> (for temporary files that don’t need to be stored long-term), and so on.</p>
<p>We know that our current working directory <code>/work/ese-ouycc</code> is stored inside <code>/work</code> because <code>/work</code> is the first part of its name. Similarly, we know that <code>/work</code> is stored inside the <code>root</code> directory <code>/</code> because its name begins with <code>/</code>.</p>
</div>
<div id="navigating-with-ls-and-cd" class="section level2">
<h2>Navigating with <code>ls</code> and <code>cd</code></h2>
<p>Now let’s learn the command that will let us see the contents of our own filesystem. We can see what’s in my home directory by running <code>ls</code>, which stands for “listing”:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">ls</span></span></code></pre></div>
<p><code>ls</code> prints the names of the files and directories in the current directory in alphabetical order, arranged neatly into columns. We can make its output more comprehensible by using the <strong>flag</strong> <code>-F</code>, which tells <code>ls</code> to add a trailing <code>/</code> to the names of directories:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">ls</span> -F</span></code></pre></div>
<p><code>ls</code> has lots of other options. To find out what they are, we can type: <code>man ls</code>.</p>
<p><code>man</code> is the Unix “manual” command: it prints a description of a command and its options, and (if you’re lucky) provides a few examples of how to use it. To navigate through the <code>man</code> pages, you may use the up and down arrow keys to move line-by-line, or try the “b” and spacebar keys to skip up and down by full page. Quit the <code>man</code> pages by typing <code>q</code>.</p>
<p>Here, we can see that my working directory contains a few <strong>sub-directories</strong>. Any names in the output that don’t have trailing slashes, are plain <strong>files</strong>.</p>
<p>We can also use <code>ls</code> to see the contents of a different directory. Let’s take a look at the <code>data_demo</code> directory by running <code>ls -F data_demo</code>, <em>i.e.</em>, the command <code>ls</code> with the <strong>arguments</strong> <code>-F</code> and <code>data_demo</code>. The second argument, the one without a leading dash, tells <code>ls</code> that we want a listing of something other than our current working directory:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">ls</span> -F data_demo</span></code></pre></div>
<p>Your output should be a list of all the files and sub-directories in the <code>data_demo</code> directory.</p>
<p>The command to change locations is <code>cd</code> followed by a directory name to change our working directory. <code>cd</code> stands for “change directory”.</p>
<p>Let’s say we want to move to the <code>data</code> directory we saw above. We can use the following series of commands to get there:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="bu">cd</span> data_demo</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="bu">cd</span> data</span></code></pre></div>
<p>These commands will move us from our home directory into the <code>data_demo</code> directory, then into the <code>data</code> directory. <code>cd</code> doesn’t print anything, but if we run <code>pwd</code> after it, we can see that we are now in <code>/work/ese-ouycc/data_demo/data</code>. If we run <code>ls</code> without arguments now, it lists the contents of <code>/work/ese-ouycc/data_demo/data</code>.</p>
</div>
<div id="shortcuts" class="section level2">
<h2>Shortcuts</h2>
<p>The shell interprets the character <code>~</code>, <code>.</code>, and <code>..</code> as shortcuts, which has different meanings:</p>
<ul>
<li><p><code>~</code> (tilde) means “the current user’s home directory”</p></li>
<li><p><code>.</code> means “current directory”</p></li>
<li><p><code>..</code> means “the directory containing this one”, or more succinctly, the “parent of the current directory”.</p></li>
</ul>
<p>Try <code>cd ..</code> and <code>cd ~</code>, followed with <code>pwd</code>, see what happens.</p>
<hr />
</div>
</div>
<div id="general-syntax-of-a-shell-command" class="section level1">
<h1>General syntax of a shell command</h1>
<p>Consider the command below as a general example of a command, which we will dissect into its component parts:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">ls</span> -F /</span></code></pre></div>
<p><code>ls</code> is the <strong>command</strong>, with an <strong>option</strong> <code>-F</code> and an <strong>argument</strong> <code>/</code>. We’ve already encountered options (also called switches or flags) which either start with a single dash (<code>-</code>) or two dashes (<code>--</code>), and they change the behavior of a command. Arguments tell the command what to operate on (<em>e.g.</em> files and directories). Sometimes options and arguments are referred to as <strong>parameters</strong>. A command can be called with more than one option and more than one argument: but a command doesn’t always require an argument or an option.</p>
<p>Each part is <strong>separated by spaces</strong>: if you omit the space between <code>ls</code> and <code>-F</code> the shell will look for a command called <code>ls-F</code>, which doesn’t exist. Also, capitalization can be important. For example, <code>ls -s</code> will display the size of files and directories alongside the names, while <code>ls -S</code> will sort the files and directories by size.</p>
<p>Putting all that together, our command above gives us a listing of files and directories in the root directory <code>/</code>. Try this.</p>
<hr />
</div>
<div id="working-with-files-and-directories" class="section level1">
<h1>Working With Files and Directories</h1>
<div id="creating-directories" class="section level2">
<h2>Creating directories</h2>
<p>Let’s create a new directory called <code>thesis</code> using the command</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="bu">cd</span> ~/data_demo</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">mkdir</span> thesis</span></code></pre></div>
<p>As you might guess from its name, <code>mkdir</code> means ‘make directory’. Since <code>thesis</code> is a <em>relative path</em> (i.e., does not have a leading slash), the new directory is created in the current working directory.</p>
<p>Note that <code>mkdir</code> is not limited to creating single directories one at a time. The <code>-p</code> option allows mkdir to create a directory with any number of nested subdirectories in a single operation:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">mkdir</span> thesis/chapter_1/section_1/subsection_1</span></code></pre></div>
</div>
<div id="creating-a-text-file" class="section level2">
<h2>Creating a text file</h2>
<p>Let’s change our working directory to <code>thesis</code> using <code>cd</code>, then run a text editor called <code>nano</code> to create a file called <code>draft.txt</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1"></a><span class="bu">cd</span> thesis</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">nano</span> draft.txt</span></code></pre></div>
<p>Let’s type in a few lines of text. Once we’re happy with our text, we can press <code>Ctrl+O</code> (press the <code>Ctrl</code> or <code>Control</code> key and, while holding it down, press the <code>O</code> key) to write our data to disk. You’ll be asked what file we want to save this to: press <code>Return</code> to accept the suggested default of <code>draft.txt</code>.</p>
<p>Once our file is saved, we can use <code>Ctrl</code>+<code>X</code> to quit the editor and return to the shell.</p>
<p>On Linux , many programmers use <a href="http://www.gnu.org/software/emacs/">Emacs</a> or <a href="https://www.vim.org/">Vim</a> (both of which require more time to learn), or a graphical editor such as <a href="https://wiki.gnome.org/Apps/Gedit">Gedit</a>. On Windows, you may wish to use <a href="https://notepad-plus-plus.org/">Notepad++</a>. Windows also has a built-in editor called <code>notepad</code> that can be run from the command line in the same way as <code>nano</code> for the purposes of this lesson.</p>
</div>
<div id="moving-files-and-directories" class="section level2">
<h2>Moving files and directories</h2>
<p>Returning to the <code>data_demo</code> directory:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="bu">cd</span> ~/data_demo</span></code></pre></div>
<p>In our <code>thesis</code> directory, we have a file <code>draft.txt</code> which isn’t a particularly informative name, so let’s change the file’s name using <code>mv</code>, which is short for ‘move’:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">mv</span> /thesis/draft.txt /thesis/my_paper.txt</span></code></pre></div>
<p>The first argument tells <code>mv</code> what we’re ‘moving’, while the second is where it’s to go. In this case, we’re moving <code>thesis/draft.txt</code> to <code>thesis/my_paper.txt</code>, which has the same effect as renaming the file. Use <code>ls</code> to show that <code>thesis</code> now contains one file called <code>my_paper.txt</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">ls</span> thesis</span></code></pre></div>
<p>Note that <code>mv</code> also works on directories. Let’s move <code>my_paper.txt</code> into the current working directory.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">mv</span> thesis/my_paper.txt .</span></code></pre></div>
<p>We use <code>mv</code> once again, but this time we’ll use just the name of a directory as the second argument to tell mv that we want to keep the filename, but put the file somewhere new. In this case, the directory name we use is the special directory name <code>.</code> that we mentioned earlier.</p>
<p>The effect is to move the file from the directory it was in to the current working directory. <code>ls</code> now shows us that <code>thesis</code> is empty:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">ls</span> thesis</span></code></pre></div>
</div>
<div id="copying-files-and-directories" class="section level2">
<h2>Copying files and directories</h2>
<p>The <code>cp</code> command works very much like <code>mv</code>, except it copies a file instead of moving it.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">cp</span> my_paper.txt thesis/my_paper.txt</span></code></pre></div>
<p>We can also copy a directory and all its contents by using the <strong>recursive</strong> option <code>-r</code>, <em>e.g.</em> to back up a directory:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">cp</span> -r thesis thesis_backup</span></code></pre></div>
<p>Now check the result by listing the contents of both the <code>thesis</code> and <code>thesis_backup</code> directory:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">ls</span> thesis thesis_backup</span></code></pre></div>
</div>
<div id="removing-files-and-directories" class="section level2">
<h2>Removing files and directories</h2>
<p>Returning to the <code>data_demo</code> directory, let’s tidy up this directory by removing the <code>quotes.txt</code> file we created. The Linux command we’ll use for this is <code>rm</code> (short for ‘remove’):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">rm</span> quotes.txt</span></code></pre></div>
<p><strong>NOTE: Deleting Is Forever</strong></p>
<p>The Linux shell doesn’t have a trash bin that we can recover deleted files from. Instead, when we delete files, they are unlinked from the file system so that their storage space on disk can be recycled. Tools for finding and recovering deleted files do exist, but there’s no guarantee they’ll work in any particular situation, since the computer may recycle the file’s disk space right away.</p>
<p>So think twice before you type!!!</p>
<p>If we try to remove the <code>thesis</code> directory using <code>rm</code> thesis, we get an error message:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">rm</span> thesis</span></code></pre></div>
<p>This happens because <code>rm</code> by default only works on files, not directories.</p>
<p><code>rm</code> can remove a directory and all its contents if we use the recursive option <code>-r</code>, and it will do so without any confirmation prompts.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">rm</span> -r thesis</span></code></pre></div>
</div>
<div id="using-wildcards" class="section level2">
<h2>Using wildcards</h2>
<p><code>*</code> is a <strong>wildcard</strong>, which matches <strong>zero or more characters</strong>. For example, <code>*.txt</code> matches all files ending in <code>.txt</code>. Let’s consider the <code>data_demo/molecules</code> directory: <code>*.pdb</code> matches <code>ethane.pdb</code>, <code>propane.pdb</code>, and every file that ends with <code>.pdb</code>. On the other hand, <code>p*.pdb</code> only matches <code>pentane.pdb</code> and <code>propane.pdb</code>, because the <code>p</code> at the front only matches filenames that begin with the letter <code>p</code>.</p>
<p><code>?</code> is also a wildcard, but it matches exactly <strong>one character</strong>. For example, <code>?.txt</code> matches <code>a.txt</code> but not <code>any.txt</code>. So <code>?ethane.pdb</code> would match <code>methane.pdb</code> whereas <code>*ethane.pdb</code> matches both <code>ethane.pdb</code>, <code>and methane.pdb</code>.</p>
<p>Wildcards can be used in combination with each other <em>e.g.</em> <code>???ane.pdb</code> matches three characters followed by <code>ane.pdb</code>, giving <code>cubane.pdb</code>, <code>ethane.pdb</code>, and <code>octane.pdb</code>.</p>
<hr />
</div>
</div>
<div id="pipes-and-filters" class="section level1">
<h1>Pipes and Filters</h1>
<p>Now that we know a few basic commands, we can finally look at the shell’s most powerful feature: the ease with which it lets us combine existing programs in new ways. We’ll start with the directory called <code>data_demo/molecules</code> that contains six files describing some simple organic molecules.</p>
<p>Let’s go into that directory with <code>cd</code> and run the command <code>wc cubane.pdb</code>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1"></a><span class="bu">cd</span> molecules</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">wc</span> cubane.pdb </span></code></pre></div>
<p><code>wc</code> is the ‘word count’ command: it counts the number of lines, words, and characters in files (from left to right, in that order).</p>
<p>If we run the command <code>wc *.pdb</code>, the <code>*</code> in <code>*.pdb</code> matches zero or more characters, so the shell turns <code>*.pdb</code> into a list of all <code>.pdb</code> files in the current directory:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">wc</span> *.pdb </span></code></pre></div>
<p>Note that <code>wc *.pdb</code> also shows the total number of all lines in the last line of the output.</p>
<p>If we run <code>wc -l</code> instead of just <code>wc</code>, the output shows only the number of lines per file:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">wc</span> -l *.pdb </span></code></pre></div>
<p>The vertical bar, <code>|</code>, between the two commands, is called a <strong>pipe</strong>. It tells the shell that we want to use the output of the command on the left as the input to the command on the right.</p>
<p>We can, for example, send the output of <code>wc</code> directly to <code>sort</code>,:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">wc</span> -l *.pdb <span class="kw">|</span> <span class="fu">sort</span> -n</span></code></pre></div>
<p>And now we send the output of this pipe, through another pipe, to <code>head</code> to show the first line only, so that the full pipeline becomes:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">wc</span> -l *.pdb <span class="kw">|</span> <span class="fu">sort</span> -n <span class="kw">|</span> <span class="fu">head</span> -n 1</span></code></pre></div>
<hr />
</div>
<div id="in-class-exercises" class="section level1">
<h1>In-class exercises</h1>
<div id="exercise-1" class="section level2">
<h2>Exercise #1</h2>
<p>1.1 In your home directory, create a folder <code>TEST</code>, and three subfolders <code>t1</code>, <code>t2</code>, and <code>t3</code> inside <code>TEST</code>.</p>
<p>1.2 Change your directory to <code>t1</code>, create a text file <code>my.txt</code>, write your name and student ID in it, and save the file.</p>
<p>1.3 Copy <code>my.txt</code> in <code>t1</code> to <code>TEST</code>, and rename it to `<code>my_new.txt</code>.</p>
<p>1.4 Delete <code>t1</code>, <code>t2</code>, and <code>t3</code>.</p>
<p>1.5 In <code>TEST</code>, type <code>cat my_new.txt</code>. What do you see? Use <code>man cat</code> to learn more about <code>cat</code>, and quite the help document by typing <code>q</code>.</p>
<p>1.6 Delete <code>TEST</code>.</p>
</div>
<div id="exercise-2" class="section level2">
<h2>Exercise #2</h2>
<p>Change your directory to <code>data_demo/molecules</code>, type the following lines:</p>
<ul>
<li><p><code>ls *t*ane.pdb</code></p></li>
<li><p><code>ls *t?ne.*</code></p></li>
<li><p><code>ls *t??ne.pdb</code></p></li>
<li><p><code>ls ethane.*</code></p></li>
</ul>
<p>What do you get? Can you explain why?</p>
</div>
<div id="exercise-3" class="section level2">
<h2>Exercise #3</h2>
<p>Change your directory to <code>data_demo/molecules</code>, type the following line:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">wc</span> -l *.pdb <span class="kw">|</span> <span class="fu">sort</span> -n <span class="kw">|</span> <span class="fu">tail</span> -n 5 <span class="kw">|</span> <span class="fu">head</span> -n 1</span></code></pre></div>
<p>What do you get? Can you explain why? Use <code>man tail</code> to learn more about <code>tail</code>.</p>
</div>
<div id="exercise-4" class="section level2">
<h2>Exercise #4</h2>
<p>The <code>data_demo/north-pacific-gyre/2012-07-03</code> folder stores some observations from a cruise campaign Each file should contain 300 lines of data points. But there is one file that contains fewer lines than the rest of the files. Can you figure out which one?</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="http://swcarpentry.github.io/shell-novice" class="uri">http://swcarpentry.github.io/shell-novice</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
