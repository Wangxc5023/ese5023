1 + 1
1
2 * 2
(1 + 2) * 2
x <- all.equal(1, 1+1e-5)
x
print(x)
if(x){print(1)}
installed.packages(dplyr)
installed.packages(tidyr)
# Define the function FindTop()
FindTop        <- function(N){
MoviePage  <- readLines('https://movie.douban.com/top250', encoding='UTF-8')
Pattarn    <- '<span class=\"title\">&nbsp;/&nbsp;([^<]*)</span>'
Lines      <- grep(Pattarn, MoviePage, value=TRUE)
Lines      <- sub(Pattarn,  '\\1', Lines )
Names      <- sub('^ *', '', Lines)
Names      <- sub('&#39;', "'", Names)
print(Names[1:N])
}
# Call the function with arguement 5 and 10
FindTop(5)
FindTop(10)
FindTop(25)
which(1==1)
which(1==1 && 2==2)
which(x==1 && x==2)
x <- seq(1,10,1)
which(x==1 && x==2)
x==1
library(ggplot2)
plot1 <- gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, nrow=2)
install.packages("fields")
install.packages("maps")
install.packages("RNetCDF")
getwd()
setwd("D://class")
library(fields); library(maps); library(RNetCDF)
# Read the nccdf file
ex.nc            <- open.nc("air.mon.ltm.nc")
ex.nc
print.nc(ex.nc)
# Read the nccdf file
ex.nc            <- open.nc("air.mon.ltm.nc")
print.nc(ex.nc)
Lat       <- var.get.nc(ex.nc,"lat")
Lon       <- var.get.nc(ex.nc,"lon")
Air_T      <- var.get.nc(ex.nc,"air")
# surface_air_temperature [K]
close.nc(ex.nc)
Air_T
dim(Air_T)
image.plot(Lon, Lat, Air_T[,,1])
Lon
Lat
Air_T[,,1]
image.plot(Lon, Lat, t(Air_T[,,1]))
par(mar=c(4.5,3,2,1))# Bottom, left, top, right
image.plot(Lon, Lat, Air_T[,,1]
horizontal=T, useRaster=T,
legend.shrink=0.75, axis.args = list(cex.axis = 1.25), legend.width=1, legend.mar=2,
legend.args=list(text=expression(paste("HCHO column density [",10^15, " molecules ",cm^-2,"]")),cex=1.25),
xlab='',ylab='',midpoint=T, axes=F, ann=F
)
par(mar=c(4.5,3,2,1))# Bottom, left, top, right
image.plot(Lon, Lat, Air_T[,,1],
horizontal=T, useRaster=T,
legend.shrink=0.75, axis.args = list(cex.axis = 1.25), legend.width=1, legend.mar=2,
legend.args=list(text=expression(paste("HCHO column density [",10^15, " molecules ",cm^-2,"]")),cex=1.25),
xlab='',ylab='',midpoint=T, axes=F, ann=F
)
Lon
Lat
image.plot(Lon, rev(Lat), t(Air_T[,,1]))
par(mar=c(4.5,3,2,1))# Bottom, left, top, right
image.plot(Lon, rev(Lat), Air_T[,,1],
horizontal=T, useRaster=T,
legend.shrink=0.75, axis.args = list(cex.axis = 1.25), legend.width=1, legend.mar=2,
legend.args=list(text=expression(paste("HCHO column density [",10^15, " molecules ",cm^-2,"]")),cex=1.25),
xlab='',ylab='',midpoint=T, axes=F, ann=F
)
#title(main=paste("TROPOMI_HCHO_",min(Date_temp),"_",max(Date_temp),"_Res_",as.character(res),sep=""),cex.main=1,font.main=2)
map('world',add=T,lwd=0.75,col="black")
image.plot(Lon, rev(Lat), t(Air_T[,,1]))
image.plot(Lon, rev(Lat), Air_T[,,1])
Air_T_Jan <- Air_T[,,1]
for(row in 1:length(Lat)){
Air_T_Jan[,row] <- Air_T_Jan[,length(Lat)+1-row]
}
image.plot(Lon, rev(Lat), Air_T_Jan[,,1])
length(Lat)
Air_T_Jan <- Air_T[,,1]
for(row in 1:length(Lat)){
Air_T_Jan[,row] <- Air_T_Jan[, (length(Lat)+1-row) ]
}
Air_T_Jan <- Air_T[,,1]
for(row in 1:length(Lat)){
Air_T_Jan[,row] <- Air_T_Jan[, (length(Lat)+1-row) ]
}
image.plot(Lon, rev(Lat), Air_T_Jan)
#title(main=paste("TROPOMI_HCHO_",min(Date_temp),"_",max(Date_temp),"_Res_",as.character(res),sep=""),cex.main=1,font.main=2)
map('world',add=T,lwd=0.75,col="black")
Air_T_Jan <- Air_T[,,1]
for(row in 1:length(Lat)){
Air_T_Jan[,row] <- Air_T_Jan[, (length(Lat)+1-row) ]
}
Lat <- rev(Lat)
image.plot(Lon, Lat, Air_T_Jan)
par(mar=c(4.5,3,2,1))# Bottom, left, top, right
image.plot(Lon, Lat, Air_T_Jan,
horizontal=T, useRaster=T,
legend.shrink=0.75, axis.args = list(cex.axis = 1.25), legend.width=1, legend.mar=2,
legend.args=list(text="Surface Temperature [k]",cex=1.25),
xlab='',ylab='',midpoint=T, axes=F, ann=F
)
title(xlab="",cex.lab=1.25,font.lab=2)
axis(1,at=pretty(Lon),tck=-0.015,lwd=2,cex.axis=1.25,font=1)
title(ylab="",cex.lab=1.25,font.lab=2)
axis(2,at=pretty(Lat),tck=-0.015,lwd=2,cex.axis=1.25,font=1,las=1)
title(main=paste("Long term (1850-2020) mean surface temperature in Jan."),cex.main=1,font.main=2)
map('world',add=T,lwd=0.75,col="black")
box(lwd=2)
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Americans" ) %>%
dplyr::filter( substr(country,1,1)=="U" )
gapminder %>%
dplyr::filter( continent=="Asia" | continent== "Americans" ) %>%
dplyr::filter( substr(country,1,1)=="U" )
gapminder
# Load libraries
library(dplyr)
library(ggplot2)
library(gapminder)
gapminder
gapminder %>%
dplyr::filter( substr(country,1,1)=="Po" )
gapminder %>%
dplyr::filter( substr(country,1,2)=="Po" )
gapminder %>%
dplyr::filter( substr(country,2,2)=="b" )
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" )
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) )
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth()
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=continent) ) +
geom_point() +
geom_smooth()
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country, shape=continent ) ) +
geom_point() +
geom_smooth()
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country, shape=continent ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw()
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country, shape=continent ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, nrow=2)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country, shape=continent ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, nrow=2)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, nrow=2)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, nrow=1)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, ncol=4)
ggsave("D://class/myplot2.png")  # save a stored ggplot
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, ncol=1)
ggsave("D://class/myplot2.png", width=40, height=10, units="cm", dpi=400)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, ncol=1)
ggsave("D://class/myplot2.png", width=10, height=20, units="cm", dpi=400)
library(gapminder)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, ncol=1)
ggsave("D://class/myplot2.png", width=20, height=20, units="cm", dpi=400)
gapminder %>%
dplyr::filter( substr(country,2,2)=="o" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country ) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="italic"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name (second letter is o)") +
facet_wrap( ~ continent, ncol=1)
ggsave("D://class/myplot2.png", width=25, height=20, units="cm", dpi=400)
# Read the nccdf file
ex.nc            <- open.nc("air.mon.anom.nc")
print.nc(ex.nc)
getwd()
setwd("C://ese5023")
rmarkdown::render_site()
# Load libraries
library(dplyr)
library(ggplot2)
library(gapminder)
# Make a simple scatter plot
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" )
# Make a simple scatter plot
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap) ) +
geom_point()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, size=country) ) +
geom_point()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, shape=country) ) +
geom_point()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, shape=country, color=country) ) +
geom_point()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia")
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name")
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent)
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ country)
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent, ncol=1)
getwd()
gapminder %>%
dplyr::filter( continent=="Asia" | continent=="Europe" ) %>%
dplyr::filter( substr(country,1,1)=="C" ) %>%
ggplot( aes(x=year, y=gdpPercap, color=country) ) +
geom_point() +
geom_smooth() +
labs(title="GDP per captia from 1957 to 2007", x="Year", y="GDP per captia") +
theme_bw() +
theme(plot.title=element_text(size=20, face="bold"),
axis.text.x=element_text(size=10),
axis.text.y=element_text(size=10),
axis.title.x=element_text(size=20),
axis.title.y=element_text(size=20)) +
scale_color_discrete(name="Country Name") +
facet_wrap( ~ continent)
ggsave("D://class/myplot2.png", plot=plot1, width=20,
height=10, units="cm", dpi=400)
